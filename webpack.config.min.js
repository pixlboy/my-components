var webpack = require("webpack");

var config = Object.create(
	require("./webpack.config")
);

config.output.filename = "[name].min.js";
config.output.chunkFilename = "[id].chunk.min.js";

//config.output.sourceMapFilename = "jnpr-components.js.map";
//config.devtool = "source-map";
config.plugins = [
    new webpack.optimize.CommonsChunkPlugin({
      names: ['jnpr-vendors']
    }),
	new webpack.optimize.OccurenceOrderPlugin(),
	new webpack.optimize.DedupePlugin(),
	new webpack.optimize.AggressiveMergingPlugin(),
	 new webpack.optimize.UglifyJsPlugin({
	      compress: {
	        warnings: false,
	        screw_ie8: true
	      },
	      comments: false,
	      sourceMap: true
	    }),
];

module.exports = config;
